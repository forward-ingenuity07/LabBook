<!DOCTYPE html>
<html>
    <head>
    <!--
        Customize the content security policy in the meta tag below as needed. Add 'unsafe-inline' to default-src to enable inline JavaScript.
        For details, see http://go.microsoft.com/fwlink/?LinkID=617521
    -->
        <link href="bootstrap/css/bootstrap.css" rel="stylesheet">
        <script type="text/javascript" src="scripts/jquery-3.1.1.min.js"></script>
        <script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>
        <meta charset="utf-8">
        <meta name="format-detection" content="telephone=no">
        <meta name="msapplication-tap-highlight" content="no">
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
        <link rel="stylesheet" type="text/css" href="css/index.css">
        <title>ideaBook</title>
    </head>
    <body>
        <div class="bd-example">
            <div id="wrapper" style="text-align: center">
                <nav class="navbar navbar-toggleable-md navbar-inverse bg-inverse">
                    <!--<button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>-->

                    <a href="index.html" class="nav nav-navbar navbar navbar-center navbar-brand" style="z-index:100;">Home</a>


                    <button class="navbar navbar-brand2 navbar-center btn btn-black1 btn-lg" type="button" id="add" style="display:inline-block" data-toggle="modal" data-target="#myModal">
                        <span class="glyphicon glyphicon-plus white"></span>
                    </button>
                    
                    




                    <!--   <button class="btn btn-black pull-right" type="button" id="logout" aria-expanded="false" onclick="logout()">
                    Logout
                </button>
                 -->


                </nav>
            </div>
        </div>
        <div class="jumbotron text-center">
            <div class="container">
                <h1>Welcome to Labbook</h1>


            </div>
        </div>

        <div class="container" id="elements">
            
            <hr/>


        </div>

        <div id="myModal" class="modal fade" role="dialog">
            <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Enter project Sir</h4>
                        <p class="text-danger" id="message"></p>
                    </div>
                    <div class="modal-body">
                        <form>
                            <div class="form-group input_fields_wrap">
                                <label>Title</label>


                                <input type="text" name="mytext[]" class="form-control" placeholder="Enter title and Module Code" id="title" />

                            </div>

                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" onclick="submitt()" class="btn btn-default" id="sub">Submit</button>
                    </div>
                </div>

            </div>
        </div>

        <script type="text/javascript">
            $(document).ready(function () {
                
                if (window.localStorage.getItem('array_projects') == null) {
                    window.localStorage.setItem('array_projects', '[]');
                }

                if (window.localStorage.getItem('array_projects') != null)
                {
                    
                    var array_projects = JSON.parse(window.localStorage.getItem('array_projects'));
                    var this_length = array_projects.length;
                    
                    for (var i = 0; i < this_length; i++) {

                        var outDiv = document.getElementById('elements');
                        var link = document.createElement('a');
                        link.setAttribute('role', 'button');
                        //link.setAttribute('onclick', 'chosen' +i+ '()');
                        link.className = 'project' + i;
                        
                        var title = document.getElementById('title').value;
                        link.innerHTML = '<div>' + array_projects[i] + '</div>';
                        link.id = array_projects[i];
                        var horiz = document.createElement('hr');
                        outDiv.appendChild(link);
                        outDiv.appendChild(horiz);
                        
                        var script = document.createElement('script');
                        //script.text = 'function chosen' + i + '()' + '{alert(this.id)}';
                        script.text = '$(".project' + i + '").click(function(){var ident=this.id; window.localStorage.setItem("heading_project",ident);window.location.href="project.html";})';
                        document.body.appendChild(script);
                    }
                
                }
                else {


                }

            })

        </script>

        <script type="text/javascript">

            function submitt() {
                if(window.localStorage.getItem('array_projects')!=null){
                var array_projects = JSON.parse(window.localStorage.getItem('array_projects'));
                var this_length = array_projects.length;
                
                }
                else{
                    var this_lenght=1;
                }
              
                var outDiv = document.getElementById('elements');
                var link = document.createElement('a');
                var title = document.getElementById('title').value;
                
                link.id = title;
                link.setAttribute('role', 'button');
                link.setAttribute('onclick', 'chosen1'+ '()');
             
                if (window.localStorage.getItem('array_projects') != null)
                {
                    var holder = window.localStorage.getItem("array_projects");
                    project_array = JSON.parse(holder);
                  var length = project_array.length;

                    project_array[length] = title;
                }
                else {
                    project_array[0] = title;
                }
                window.localStorage.setItem("array_projects", JSON.stringify(project_array));
                window.location.reload();
            };


        </script>
        <script>

        </script>
        <script type="text/javascript" src="scripts/cordova-2.4.0.js"></script>
        <script type="text/javascript" src="scripts/platformOverrides.js"></script>
        
    </body>
</html>
